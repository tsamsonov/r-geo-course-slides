<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>R programming language</title>
    <meta charset="utf-8" />
    <meta name="author" content="Timofey Samsonov" />
    <meta name="date" content="2022-01-18" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# R programming language
## General information
### Timofey Samsonov
### Lomonosov MSU Faculty of Geography
### 2022-01-18

---


# Язык программирования R

.left-column[
&lt;img src="https://cran.r-project.org/Rlogo.svg" width="100%" /&gt;
&lt;br&gt;&lt;br&gt;
R core is written in .blue[__C__] и .red[__Fortran__].
&lt;br&gt;&lt;br&gt;
.small[Base functions are of high performance]
]

.right-column[

- R language was developed in 1991-1993 by Ross Ihaka and Robert Gentleman from The University of Auckland based on __S__ language (developed by John Chambers in Bell Labs in 1976).


- Both R and its predecessor S were initially developed as specialized statistical (and further data science) languages.

&gt; The aim of the language, as expressed by John Chambers, is .green[_"to turn ideas into software, quickly and faithfully"_]

- That is why many data science tasks can be solved using R in a more elegant and concise way than in most of other programming languages. 

]

---

# Stackoverflow

R's share in stackoverflow questions has increased substantially during the last decade.

&lt;img src="img/stacktrends.png" width="65%" /&gt;
https://insights.stackoverflow.com/trends

---

# TIOBE rating



.code-small[

```r
library(tiobeindexr)
## Downloading TIOBE Index Data using your Internet...
top_20()
## # A tibble: 20 × 5
##    `Jan 2022` `Jan 2021` `Programming Language` `Programming Language` Ratings
##         &lt;int&gt;      &lt;int&gt; &lt;lgl&gt;                  &lt;chr&gt;                  &lt;chr&gt;  
##  1          1          3 NA                     Python                 13.58% 
##  2          2          1 NA                     C                      12.44% 
##  3          3          2 NA                     Java                   10.66% 
##  4          4          4 NA                     C++                    8.29%  
##  5          5          5 NA                     C#                     5.68%  
##  6          6          6 NA                     Visual Basic           4.74%  
##  7          7          7 NA                     JavaScript             2.09%  
##  8          8         11 NA                     Assembly language      1.85%  
##  9          9         12 NA                     SQL                    1.80%  
## 10         10         13 NA                     Swift                  1.41%  
## 11         11          8 NA                     PHP                    1.40%  
## 12         12          9 NA                     R                      1.25%  
## 13         13         14 NA                     Go                     1.04%  
## 14         14         19 NA                     Delphi/Object Pascal   0.99%  
## 15         15         20 NA                     Classic Visual Basic   0.98%  
## 16         16         16 NA                     MATLAB                 0.96%  
## 17         17         10 NA                     Groovy                 0.94%  
## 18         18         15 NA                     Ruby                   0.88%  
## 19         19         30 NA                     Fortran                0.77%  
## 20         20         17 NA                     Perl                   0.71%
```
]

---

# R popularity on GitHub

.left-60[
&lt;img src="img/redmonk2021Q1.png" width="95%" /&gt;
.vsmall[https://redmonk.com/sogrady/2021/08/05/language-rankings-6-21/]
]

.right-40[
R is steadily located in Q1 of GitHub both by the number of repositories, and the number of tags
]

---

# Popularity in indistry (USA and Canada)

.pull-left[
&lt;img src="https://149351115.v2.pressablecdn.com/wp-content/uploads/2017/10/industry_growth_plot-1-768x768.png" width="100%" /&gt;
]

.pull-right[
R is most popular in academy and public health


.small[https://stackoverflow.blog/2017/10/10/impressive-growth-r/]
]

---

# The R Journal

High-ranking journal (.red[__Q1__] WoS, JCR 2020 = .green[3.984]) about development of R and its packages

&lt;iframe src="https://journal.r-project.org/" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;
https://journal.r-project.org/

---

# Journal of Statistical Software

High-ranking journal (.red[__Q1__] WoS, JCR 2020 = .green[6.440]), most of the software is written in .blue[__R__]

&lt;iframe src="https://www.jstatsoft.org/index" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;
https://www.jstatsoft.org/index

---

# General properties of R

.left-column[
&lt;img src="img/sanchez.png" width="120%" /&gt;
]

.right-column[
- .small[Despite the fact that __R__ was initally developed for data analysis purposes, it is in fact a .red[__universal general-purpose language__] for computing.]

- .small[__R__ is .red[__interpreted__] language. The programs are not compiled, but rather are executed row-by-row, similarly to _Python_ or interpreted version of _Matlab._]

- .small[The __R__ core is written in __C__ and __Fortran__, which provides .red[__high performance of base functions__]. R is easily extended by user packages written in __R__ and __C++__]

- .small[__R__ programs are typically written in .red[__functional__] programming paradigm. However, __R__ provides the powerful and diverse set of object-oriented programming systems (S3, S4, R6) which are used typically for package development]
]


---

# Assignment

.pull-left[
Traditional assignment operator is `&lt;-`:


```r
a &lt;- 4
b &lt;- a + 7
b
## [1] 11
```

Can be replaced with `=`:

```r
x = b / a
x
## [1] 2.75
```
]

.pull-right[
Global assignment to the variable from enclosing environment is made by `&lt;&lt;-`

.small[

```r
a = 4
b = 5
proc = function(x) {
  a = 2 # inside function
  b &lt;&lt;- 2 # everywhere
  round(x / a, b)
}
proc(3.1415926)
## [1] 1.57
a
## [1] 4
b
## [1] 2
```
]
]

---

# Functional programming

.pull-left[
Every operation in R is in fact a _function_:

```r
a = 7
`=`(b, -2)
a + b
## [1] 5
`+`(a, b)
## [1] 5
```

Extraction of elements:

```r
samples = c(2, 4, 7, 9, 22)
samples[2:3]
## [1] 4 7
`[`(samples, 2:3)
## [1] 4 7
```
]]

.pull-right[
Functionals and vectorized computations:
.code-small[

```r
library(microbenchmark)

# 3 ways to build a vector
# of square roots from 1 to 1000
microbenchmark(
  for (i in 1:1000) { # cycle
    a[i] = sqrt(i)
  },
  b = sapply(1:1000, sqrt), # functional
  c = sqrt(1:1000) # vectorized function
) |&gt; 
  summary() |&gt; 
  pull(mean)
## [1] 1790.85047  359.10115    6.31158
```
]
]

---

# Quotation

__Quotation__ is roughly a use of the variable name as the _data_

.code-small[

```r
data(starwars, package='dplyr')
colnames(starwars)
##  [1] "name"       "height"     "mass"       "hair_color" "skin_color"
##  [6] "eye_color"  "birth_year" "sex"        "gender"     "homeworld" 
## [11] "species"    "films"      "vehicles"   "starships"
```
]

.pull-left[
Evaluated function argumants:
.code-small[

```r
select(starwars, 'name', 'mass')
## # A tibble: 87 × 2
##    name                mass
##    &lt;chr&gt;              &lt;dbl&gt;
##  1 Luke Skywalker        77
##  2 C-3PO                 75
##  3 R2-D2                 32
##  4 Darth Vader          136
##  5 Leia Organa           49
##  6 Owen Lars            120
##  7 Beru Whitesun lars    75
##  8 R5-D4                 32
##  9 Biggs Darklighter     84
## 10 Obi-Wan Kenobi        77
## # … with 77 more rows
```
]]

.pull-right[
Quoted function arguments:
.code-small[

```r
select(starwars, name, mass)
## # A tibble: 87 × 2
##    name                mass
##    &lt;chr&gt;              &lt;dbl&gt;
##  1 Luke Skywalker        77
##  2 C-3PO                 75
##  3 R2-D2                 32
##  4 Darth Vader          136
##  5 Leia Organa           49
##  6 Owen Lars            120
##  7 Beru Whitesun lars    75
##  8 R5-D4                 32
##  9 Biggs Darklighter     84
## 10 Obi-Wan Kenobi        77
## # … with 77 more rows
```
]]

---

# Function pipeline

__Pipe operator__ `|&gt;` passes the left operand as a first argument of the right operand.

 - `x |&gt; f` is equivalent to `f(x)`
 - `x |&gt; f(y)` is equivalent to `f(x, y)`
 - `x |&gt; f |&gt; g |&gt; h` is equivalent to `h(g(f(x)))`
 
This is highly convenient in processing sequences with multiple steps:

.pull-left[

```r
starwars |&gt;
  select(name, mass, sex) |&gt; 
  filter(mass &gt; 100) |&gt;
  arrange(desc(mass)) |&gt;
  head(5)
```
]

.pull-right[
.small-pre[

```
## # A tibble: 5 × 3
##   name                   mass sex           
##   &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;         
## 1 Jabba Desilijic Tiure  1358 hermaphroditic
## 2 Grievous                159 male          
## 3 IG-88                   140 none          
## 4 Darth Vader             136 male          
## 5 Tarfful                 136 male
```
]
]

.code-small[

```r
head(arrange(filter(select(starwars, name, mass), mass &gt; 100), desc(mass)) # То же
```
]

---

# CRAN — Comprehensive R Archive Network

R language itself and its packages are distributed through CRAN. Every package passes numerous strict checks and is compiled on multiple platforms (Windows, Linux, Solaris, macOS) before it is published on CRAN. Currently there are .red[__more than 18000 packages__] published!
&lt;iframe src="https://cran.r-project.org/index.html" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;

---

# Tidyverse

__Tidyverse__ is a widely used set of data science packages developed by RStudio. It is somewhat similar to __pandas__ for Python, but has modular structure.

&lt;img src="img/tidyverse.png" width="100%" /&gt;
https://www.tidyverse.org

---

# Spatial data

R has highly developed package ecosystem for working with spatial data. Some of the packages rely on external spatial libraries (GDAL, GEOS, PROJ, Leaflet) and GIS packages (QGIS, SAGA, GRASS, Whitebox).
&lt;img src="img/spackages.png" width="100%" /&gt;

---

# Package 

Many R packages are well documented and have dedicated web site
&lt;iframe src="https://r-spatial.github.io/sf/" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;
https://r-spatial.github.io/sf/

---

# Cheatsheets

There is a nice tradition in R community — package _cheatsheets_
&lt;iframe src="http://riatelab.github.io/cartography/vignettes/cheatsheet/cartography_cheatsheet.pdf" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;
http://riatelab.github.io/cartography/vignettes/cheatsheet/cartography_cheatsheet.pdf

---

# Thematic CRAN views

CRAN provides a grouped view of packages. Each view is dedicated to some application area and is curated by experts in the field. For example, there is a package view dedicated to hydrology:

&lt;iframe src="https://cran.r-project.org/web/views/Hydrology.html" width="100%" height="400px" data-external="1"&gt;&lt;/iframe&gt;
https://cran.r-project.org/web/views/Hydrology.html

---

# RStudio

.left-30[
Powerful IDE, which allows writing R code, creating packages, data visualization, interactive data exploration, careating reports, books and websites.

https://www.rstudio.com
]

.right-70[
&lt;img src="https://d33wubrfki0l68.cloudfront.net/eea112c862c6881ff251757e5197329030a7dfec/cc90d/2020/05/27/rstudio-1-3-release/rstudio-1-3-screenshot.png" width="100%" /&gt;
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
